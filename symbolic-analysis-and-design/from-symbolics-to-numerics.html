<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title> - Engineering Computing Companion Website</title>
    <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css"/> -->
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
<link rel="stylesheet" href="/assets/css/style.css"/>
<link rel="stylesheet" href="/assets/css/pygments.css"/>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/font-awesome.min.css"> -->
<!-- <link href="/assets/css/fa/brands.min.css" rel="stylesheet"> -->
<!-- <link href="/assets/css/fa/solid.min.css" rel="stylesheet"> -->
<link href="/assets/css/fa/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.css">
<!-- <script src="/assets/js/pseudocode/build/pseudocode.js">
</script> -->
<!-- <script src="/assets/js/pseudocode/build/pseudocode.css"> -->
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- <div class="mdl-layout--fixed-header mdl-layout__header--scroll"> -->
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title">
        <a href="/">Engineering Computing Companion Website</a>
      </span>
      <div class="mdl-layout-spacer mdl-layout--large-screen-only"></div>
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">Engineering Computing</span>
    <nav class="mdl-navigation">
      <div class="nav">
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
            
            <a class="nav-cha" href="/wb">1 Introduction</a>
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/mk">1.1 Engineering Computing</a>
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/fk">1.2 Computer Architecture {[}Outlined{]}</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/gj">1.3 Programming Computers {[}Outlined{]}</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/89">1.4 The Development System</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/c0">1.5 Basic Elements of a Program</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/kx">1.6 Lists</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/rq">1.7 Tuples and Ranges</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/ow">1.8 Dictionaries</a>
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/v3">1.9 Functions</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/cl">1.10 Branching</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/ix">1.11 Looping</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/6c">1.12 Summary {[}Outlined{]}</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/6e">1.13 Problems</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
            
              </div>
              
            
            <a class="nav-cha" href="/xq">2 The Structure, Style, and Design of Programs</a>
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/rz">2.1 Python Interpreters and Interactive Sessions</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/v9">2.2 Scripts, Modules, and Imports</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/tq">2.3 The Python Standard Library and Packages</a>
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/yz">2.4 Namespaces, Scopes, and Contexts</a>
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/rf">2.5 Defining Classes</a>
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/l4">2.6 Style Conventions</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/mw">2.7 The Design of Programs</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/vl">2.8 Problems</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
            
              </div>
              
            
            <a class="nav-cha" href="/r3">3 Numerical Representations, Input and Output, and Graphics</a>
          
          
          
        
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/wa">3.1 Arrays</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/84">3.2 Manipulating, Operating On, and Mapping Over Arrays</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/j4">3.3 Input and Output</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/sy">3.4 Introducing Graphics</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/a5">3.5 Problems</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
            
              </div>
              
            
            <a class="nav-cha" href="/we">4 Symbolic Analysis and Design</a>
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/ya">4.1 Symbolic Expressions, Variables, and Functions</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/nc">4.2 Manipulating Symbolic Expressions</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/4u">4.3 Solving Equations Algebraically</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/ur">4.4 From Symbolics to Numerics</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/rd">4.5 Vectors and Matrices</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/iu">4.6 Calculus</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/j1">4.7 Solving Ordinary Differential Equations</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/kb">4.8 Problems</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
            
              </div>
              
            
            <a class="nav-cha" href="/dx">5 Numerical Analysis and Design Techniques [Outlined]</a>
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/1y">5.1 Sets of Linear Algebraic Equations</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/h6">5.2 Nonlinear Sets of Algebraic Equations via Newton-Raphson</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/9k">5.3 Nonlinear Sets of Algebraic Equations via Packages</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/y3">5.4 Integration</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/nj">5.5 Sets of Differential Equations</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/g8">5.6 Optimization via Gradient Descent</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/cq">5.7 Summary {[}Outlined{]}</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/mz">5.8 Problems</a>
          
          
        
          
          
          
        
          
            
              </div>
              
            
            <a class="nav-cha" href="/ht">6 Engineering Computing for Design [Incomplete]</a>
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/qu">6.1 Design as Optimization</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
            
            <a class="nav-sec" href="/n8">6.2 Representing Design Constraints</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/uf">6.3 Representing Design Problems</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/rt">6.4 Solving Design Problems</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/1d">6.5 Problems</a>
          
          
        
          
          
          
        
          
            
              </div>
              
            
            <a class="nav-cha" href="/ck">A Notebooks [Outlined]</a>
          
          
          
        
          
            
            <a class="nav-cha" href="/av">B Documenting and Presenting Programs [Outlined]</a>
          
          
          
        
          
            
            <a class="nav-cha" href="/vc">C Version Control [Outlined]</a>
          
          
          
        
          
            
            <a class="nav-cha" href="/ry">D Lists of Figures and Tables</a>
          
          
          
        
          
          
            
              <div class="nav-sec-div">
              
            
            <a class="nav-sec" href="/qj">D.1 List of figures</a>
          
          
        
          
          
            
            <a class="nav-sec" href="/9l">D.2 List of tables</a>
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
          
          
          
        
        
          </div>
        
      </div>
    </nav>
  </div>
<!-- </div> -->

      <div class="dropdown-container">
        <div class="dropdown v">
          <button id="vmenu" class="dropbtn vd">v ▾</button>
          <div class="dropdown-content vd">
            <!-- <a id="v1" data-title="Spyder" onclick="set_v('v1')" href=#>v1 <span>Spyder</span></a> -->
<!-- <a id="v2" data-title="VS Code" onclick="set_v('v2')" href=#>v2 <span>VS Code</span></a> -->
<a id="v1" data-title="VS Code" onclick="set_v('v1')" href=#>v1 <span>VS Code</span></a>
          </div>
        </div>
        <!-- <div class="dropdown dsd">
          <button id="dsmenu" class="dropbtn dsd">DX▾</button>
          <div class="dropdown-content dsd">
            <a id="miD1" data-title="Spyder Python development system" onclick="set_v_ds('D1')" href=#>D1 <span>Spyder Python development system</span></a>

          </div>
        </div> -->
        <div class="dropdown">
          <button id="menu" class="dropbtn">Links▾</button>
          <div class="dropdown-content">
  <a href="/index.html">Home</a>
</div>
        </div>
      </div>
      <main class="mdl-layout__content">
        <div class="mdl-grid page-container">
  <div class="mdl-card mdl-cell--12-col mdl-shadow--4dp">
    <div class="mdl-card__supporting-text">
      <!-- <div class="section-titles"> -->
        <!-- <div class="section-title"> -->
          <!-- <h1> -->
            <!--  -->
          <!-- </h1> -->
        <!-- </div> -->
      <!-- </div> -->
      <section id="from-symbolics-to-numerics" class="real-section level1" data-number="1" data-h="ur" data-shortid="from-symbolics-to-numerics" data-0-v-specific="no" data-0-wherein="" data-0-subsec="4.4.0" data-0-hash="ur" data-0-sec="4.4" data-0-id="symbolic-analysis-and-design/from-symbolics-to-numerics" data-0-v-ts="T1" data-0-problem-num="" data-0-next="rd" data-0-subsectionhash="" data-0-example-num="" data-0-title="From Symbolics to Numerics" data-0-ch="4" data-0-prev="4u" data-0-p="125" data-0-type="section" data-0-url="" data-0-v-ds="D1" data-0-chapterhash="we" data-0-sectionhash="ur" data-0-v="v1">
<h1 class="real-section" data-h="ur" data-shortid="from-symbolics-to-numerics" data-0-v-specific="no" data-0-wherein="" data-0-subsec="4.4.0" data-0-hash="ur" data-0-sec="4.4" data-0-id="symbolic-analysis-and-design/from-symbolics-to-numerics" data-0-v-ts="T1" data-0-problem-num="" data-0-next="rd" data-0-subsectionhash="" data-0-example-num="" data-0-title="From Symbolics to Numerics" data-0-ch="4" data-0-prev="4u" data-0-p="125" data-0-type="section" data-0-url="" data-0-v-ds="D1" data-0-chapterhash="we" data-0-sectionhash="ur" data-0-v="v1">From
Symbolics to Numerics</h1>
<div class="videopdf-container hiddenvideopdf-container">

</div>
<p>An engineering analysis typically requires that a symbolic solution
be applied via the substitution of numbers into a symbolic expression.
In <a href="/kn">subsection 4.2.7</a>, we considered how to subsitute
numerical values into expressions using SymPy’s <code class="sourceCode python">evalf()</code> method. This is fine for a
single value, but frequently an expression is to be evaluated at an
array of numerical values. Looping through the array and applying <code class="sourceCode python">evalf()</code> is cumbersome and
computationally slow. An easier and computationally efficient technique
using the <code class="sourceCode python">sp.lambdify()</code> function
is introduced in this section. The function <code class="sourceCode python">sp.lambdify()</code> creates an efficient,
numerically evaluable function from a SymPy expression. The basic usage
of the function is as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sp.symbols(<span class="st">&quot;x&quot;</span>, real<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>expr <span class="op">=</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">7</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> sp.lambdify(x, expr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>f(<span class="dv">2</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="2">
<pre class="sourceCode"><code>11</code></pre>
</div>
<p>By default, if NumPy is present, <code class="sourceCode python">sp.lambdify()</code> vectorizes the function
such that the function can be provided with NumPy array arguments and
return NumPy array values. However, it is best to avoid relying on the
function’s implicit behavior, which can change when different modules
are present, it is best to provide the numerical module explicitly, as
follows:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> sp.lambdify(x, expr, modules<span class="op">=</span><span class="st">&quot;numpy&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>f(np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">3.5</span>]))</span></code></pre></div>
<div class="output execute_result" data-execution_count="3">
<pre class="sourceCode"><code>array([ 8.  , 11.  , 19.25])</code></pre>
</div>
<p>Multiple arguments are supported, as in the following example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> sp.symbols(<span class="st">&quot;x, y&quot;</span>, real<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>expr <span class="op">=</span> sp.cos(x) <span class="op">*</span> sp.sin(y)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> sp.lambdify([x, y], expr, modules<span class="op">=</span><span class="st">&quot;numpy&quot;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>f(<span class="dv">3</span>, <span class="dv">4</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="4">
<pre class="sourceCode"><code>0.7492287917633428</code></pre>
</div>
<p> All the usual NumPy broadcasting rules will apply for the function.
For instance,</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.array([[<span class="dv">1</span>], [<span class="dv">2</span>]])  <span class="co"># 2x1 matrix</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]])  <span class="co"># 1x3 matrix</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>f(X, Y)</span></code></pre></div>
<div class="output execute_result" data-execution_count="5">
<pre class="sourceCode"><code>array([[ 0.45464871,  0.4912955 ,  0.07624747],
       [-0.35017549, -0.37840125, -0.05872664]])</code></pre>
</div>
<div class="example" data-hash="5j" data-version="">
<div class="example-title">
<span class="example-number">Example 4.2</span>
</div>
<p>You are designing the circuit shown in <span class="citation" data-cites="fig:ur-circuit">[@fig:ur-circuit]</span>. Treat the source
voltage <span class="math inline"><em>V</em><sub><em>S</em></sub></span>, the source
resistance <span class="math inline"><em>R</em><sub><em>S</em></sub></span>, and the
overall circuit topology as known constants. The circuit design requires
the selection of resistances <span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>R</em><sub>2</sub></span>, and <span class="math inline"><em>R</em><sub>3</sub></span> such that the voltage
across <span class="math inline"><em>R</em><sub>3</sub></span>, <span class="math inline"><em>v</em><sub><em>R</em><sub>3</sub></sub> = <em>V</em><sub><em>R</em><sub>3</sub></sub></span>,
and the current through <span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>i</em><sub><em>R</em><sub>1</sub></sub> = <em>I</em><sub><em>R</em><sub>1</sub></sub></span>,
where <span class="math inline"><em>V</em><sub><em>R</em><sub>3</sub></sub></span>
and <span class="math inline"><em>I</em><sub><em>R</em><sub>1</sub></sub></span>
are known constants (i.e., design requirements). Proceed through the
following steps:</p>
<ol>
<li>Solve for all the resistor voltages <span class="math inline"><em>v</em><sub><em>R</em><sub><em>k</em></sub></sub></span>
and currents <span class="math inline"><em>i</em><sub><em>R</em><sub><em>k</em></sub></sub></span>
in terms of known constants and <span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>R</em><sub>2</sub></span>, and <span class="math inline"><em>R</em><sub>3</sub></span> using circuit
laws</li>
<li>Apply the constraints <span class="math inline"><em>v</em><sub><em>R</em><sub>3</sub></sub> = <em>V</em><sub><em>R</em><sub>3</sub></sub></span>
and <span class="math inline"><em>i</em><sub><em>R</em><sub>1</sub></sub> = <em>I</em><sub><em>R</em><sub>1</sub></sub></span>
to obtain two equations relating <span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>R</em><sub>2</sub></span>, and <span class="math inline"><em>R</em><sub>3</sub></span></li>
<li>Solve for <span class="math inline"><em>R</em><sub>2</sub></span>
and <span class="math inline"><em>R</em><sub>3</sub></span> as functions
of <span class="math inline"><em>R</em><sub>1</sub></span> and known
constants</li>
<li>Create a design graph for the selection of <span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>R</em><sub>2</sub></span>, and <span class="math inline"><em>R</em><sub>3</sub></span> given the following
design parameters: <span class="math inline"><em>V</em><sub><em>S</em></sub> = 10</span> V, <span class="math inline"><em>R</em><sub><em>S</em></sub> = 50</span> <span class="math inline"><em>Ω</em></span>, <span class="math inline"><em>V</em><sub><em>R</em><sub>3</sub></sub> = 1</span> V,
and <span class="math inline"><em>I</em><sub><em>R</em><sub>1</sub></sub> = 20</span> mA.</li>
</ol>
<figure class="real-figure" id="fig:ur-circuit">
<img src="/assets/figures/ur-circuit/ur-circuit.svg" class="figure standalone nofloat " alt=" Figure 4.4" />
<figcaption>Figure 4.4: A resistor circuit design for <a href="/5j">example</a>.</figcaption>
</figure>
<div class="example-solution">
<h3 class="unnumbered" data-shortid="solve-for-the-resistor-voltages-and-currents" id="solve-for-the-resistor-voltages-and-currents">Solve for the Resistor
Voltages and Currents</h3>
<p>Each resistor has an unknown voltage and current. We will develop and
solve a system of equations using circuit laws. Begin by defining
symbolic variables as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>v_RS, i_RS, v_R1, i_R1, v_R2, i_R2, v_R3, i_R3 <span class="op">=</span> sp.symbols(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>	<span class="st">&quot;v_RS, i_RS, v_R1, i_R1, v_R2, i_R2, v_R3, i_R3&quot;</span>, real<span class="op">=</span><span class="va">True</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>viR_vars <span class="op">=</span> [v_RS, i_RS, v_R1, i_R1, v_R2, i_R2, v_R3, i_R3]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>R1, R2, R3 <span class="op">=</span> sp.symbols(<span class="st">&quot;R1, R2, R3&quot;</span>, positive<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>V_S, R_S, V_R3, I_R1 <span class="op">=</span> sp.symbols(<span class="st">&quot;V_S, R_S, V_R3, I_R1&quot;</span>, real<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>There are <span class="math inline">4</span> resistors, so there are
<span class="math inline">2 ⋅ 4 = 8</span> unknown voltages and
currents; therefore, we need <span class="math inline">8</span>
independent equations. The first circuit law we apply is Ohm’s law,
which states that the ratio of voltage over current for a resistor is
approximately constant. Applying this to each resistor, we obtain the
following <span class="math inline">4</span> equations:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Ohms_law <span class="op">=</span> [</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>	v_RS <span class="op">-</span> R_S<span class="op">*</span>i_RS,  <span class="co"># == 0</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>	v_R1 <span class="op">-</span> R1<span class="op">*</span>i_R1,  <span class="co"># == 0</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>	v_R2 <span class="op">-</span> R2<span class="op">*</span>i_R2,  <span class="co"># == 0</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>	v_R3 <span class="op">-</span> R3<span class="op">*</span>i_R3,  <span class="co"># == 0</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<p>The second circuit law we apply is Kirchhoff’s current law (KCL),
which states that the sum of the current into a node must equal <span class="math inline">0</span>. Applying this to the upper-middle and
upper-right nodes, we obtain the following <span class="math inline">2</span> equations:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>KCL <span class="op">=</span> [</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>	i_RS <span class="op">-</span> i_R1 <span class="op">-</span> i_R2,  <span class="co"># == 0</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>	i_R2 <span class="op">-</span> i_R3,  <span class="co"># == 0</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<p>The third circuit law we apply is Kirchhoff’s voltage law (KVL),
which states that the sum of the voltage around a closed loop must equal
<span class="math inline">0</span>. Applying this to the left and right
inner loops, we obtain the following <span class="math inline">2</span>
equations:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>KVL <span class="op">=</span> [</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>	V_S <span class="op">-</span> v_R1 <span class="op">-</span> v_RS,  <span class="co"># == 0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>	v_R1 <span class="op">-</span> v_R3 <span class="op">-</span> v_R2, <span class="co"># == 0</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<p>Our collection of <span class="math inline">8</span> equations are
independent because none can be derived from another. They make a linear
system of equations, which can be solved simultaneously as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>viR_sol <span class="op">=</span> sp.solve(Ohms_law <span class="op">+</span> KCL <span class="op">+</span> KVL, viR_vars, <span class="bu">dict</span><span class="op">=</span><span class="va">True</span>)[<span class="dv">0</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(viR_sol)</span></code></pre></div>







<h3 class="unnumbered" data-shortid="apply-the-requirement-constraints" id="apply-the-requirement-constraints">Apply the Requirement
Constraints</h3>
<p>The requirements that <span class="math inline"><em>v</em><sub><em>R</em><sub>3</sub></sub> = <em>V</em><sub><em>R</em><sub>3</sub></sub></span>
and <span class="math inline"><em>i</em><sub><em>R</em><sub>1</sub></sub> = <em>I</em><sub><em>R</em><sub>1</sub></sub></span>
can be encoded symbolically as two equations as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>constraints <span class="op">=</span> {v_R3: V_R3, i_R1: I_R1}  <span class="co"># Design constraints</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>constraint_equations <span class="op">=</span> [</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>	sp.Eq(v_R3.subs(constraints), v_R3.subs(viR_sol)),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>	sp.Eq(i_R1.subs(constraints), i_R1.subs(viR_sol)),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(constraint_equations)</span></code></pre></div>

<h3 class="unnumbered" data-shortid="solve-for-resistances" id="solve-for-resistances">Solve for Resistances</h3>
<p>The system of <span class="math inline">2</span> constraint equations
and <span class="math inline">3</span> unkowns (<span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>R</em><sub>2</sub></span>, and <span class="math inline"><em>R</em><sub>3</sub></span>) is underdetermined,
which means there are infinite solutions. The two equations can be
solved for <span class="math inline"><em>R</em><sub>1</sub></span> and
<span class="math inline"><em>R</em><sub>2</sub></span> in terms of
<span class="math inline"><em>R</em><sub>3</sub></span> and parameters
as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>constraints_sol <span class="op">=</span> sp.solve(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>	constraint_equations, [R1, R2], <span class="bu">dict</span><span class="op">=</span><span class="va">True</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)[<span class="dv">0</span>]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(constraints_sol)</span></code></pre></div>

<h3 class="unnumbered" data-shortid="create-a-design-graph" id="create-a-design-graph">Create a Design Graph</h3>
<p>Applying the design parameters and defining numerically evaluable
functions for <span class="math inline"><em>R</em><sub>1</sub></span>
and <span class="math inline"><em>R</em><sub>2</sub></span> as functions
of <span class="math inline"><em>R</em><sub>3</sub></span>,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>design_params <span class="op">=</span> {V_S: <span class="dv">10</span>, R_S: <span class="dv">50</span>, V_R3: <span class="dv">1</span>, I_R1: <span class="fl">0.02</span>}</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>R1_fun <span class="op">=</span> sp.lambdify(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>	[R3],</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>	R1.subs(constraints_sol).subs(design_params),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>	modules<span class="op">=</span><span class="st">&quot;numpy&quot;</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>R2_fun <span class="op">=</span> sp.lambdify(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>	[R3],</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>	R2.subs(constraints_sol).subs(design_params),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>	modules<span class="op">=</span><span class="st">&quot;numpy&quot;</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>And now we are ready to create the design graph, as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>R3_ <span class="op">=</span> np.linspace(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">101</span>)  <span class="co"># Values of $R_3$</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>ax.plot(R3_, R1_fun(R3_), label<span class="op">=</span><span class="st">&quot;$R_1$ ($</span><span class="ch">\\</span><span class="st">Omega$)&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>ax.plot(R3_, R2_fun(R3_), label<span class="op">=</span><span class="st">&quot;$R_2$ ($</span><span class="ch">\\</span><span class="st">Omega$)&quot;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">&quot;$R_3$ ($</span><span class="ch">\\</span><span class="st">Omega$)&quot;</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>ax.grid()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<figure class="real-figure" id="fig:ur-figure-0">
<img src="/assets/source/ur/figure-0.svg" class="figure pgf " alt=" Figure 4.5" />
<figcaption>Figure 4.5: A design graph for resistors <span class="math inline"><em>R</em><sub>1</sub></span>, <span class="math inline"><em>R</em><sub>2</sub></span>, and <span class="math inline"><em>R</em><sub>3</sub></span>.</figcaption>
</figure>
</div>
</div>
</section>

<h2 id="online-resources-for-section-44">Online Resources for Section 4.4</h2>

<p>No online resources.</p>


    </div>
  </div>
</div>

        <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__middle-section">
    
  </div>
  <div class="mdl-mega-footer__bottom-section">
    <ul class="mdl-mega-footer__link-list">
      
    </ul>
  </div>
</footer>

      </main>
    </div>
  </body>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KY4MZ8WFBC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KY4MZ8WFBC');
</script>
  <script src="/assets/js/versioning.js"></script>
<script src="/assets/js/heading-detailer.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.js"> -->
</script>
<script>
  console.log("running algorithm");
  document.querySelectorAll("pre.algorithm").forEach(function(element) {
    console.log(element);  
    pseudocode.renderElement(element);
  });
</script>
<script src="/assets/js/mathjax_config.js" async></script>
</html>
